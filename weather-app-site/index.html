<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
     
    </style>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div class="container">
      <form action="" id="pro">
        <h2 class="text-lg-center">Wheather-App</h2>
        <label for="movie">Movie</label>
        <input type="text" name="" id="wheather" class="form-control" placeholder="Enter Your Area" />
        <br />
        <br />
        <input
          type="submit"
          class="btn btn-lg btn-primary"
          name=""
          id="buttonone"
        />
      </form>
    </div>
    <br>
    <br>
    <div class="container">
      <div id="boom"></div>
    </div>
    <div id="boomone"></div>

    <div class="mapouter">
      <div class="gmap_canvas">
        <iframe
          width="400"
          height="400"
          id="gmap_canvas"
          src="";
          frameborder="0"
          scrolling="no"
          marginheight="0"
          marginwidth="0"
        ></iframe>
      </div>
    </div>
  </body>
</html>



<script>
  document.querySelector("form").addEventListener("submit", myfunction);
  let attachone = document.querySelector("#boom");
  let attachtwo = document.querySelector("#boomone");
  const api_key = "0a7a1dbcbb604d9ce6a32c6ceb2ca4ed";

  function myfunction() {
    event.preventDefault();
    let take = document.querySelector("#wheather").value;
    let original = `https://api.openweathermap.org/data/2.5/weather?q=${take}&appid=${api_key}`;
    async function callme() {
      try {
        let inputone = await fetch(original);
        let inputtwo = await inputone.json();
        thisisdata(inputtwo);
        console.log(inputtwo);
      } catch (err) {
        console.log(err);
      }
    }
    callme();
  }
  function thisisdata(data) {
    if(data.name==undefined){
      attachone.innerHTML="Not found";
    }
  else{
    attachone.innerHTML=null;
    let cre = document.createElement("div");
    
    let one = document.createElement("h2");
    one.innerText = ` :${data.name}`;

    let two = document.createElement("h2");
    two.innerText = `:${data.base}`;

    let three = document.createElement("h2");
    three.innerText = `:${data.main.temp_min}`;

    let four = document.createElement("h2");
    four.innerText = `:${data.main.temp_max}`;

    let five = document.createElement("h2");
    five.innerText = `:${data.wind.deg}`;

    let six = document.createElement("h2");
    six.innerText = `:${data.clouds.all}`;

    let seven = document.createElement("h2");
    seven.innerText = `:${data.sys.sunset}`;

    let eignt = document.createElement("h2");
    eignt.innerText = `:${data.sys.sunrise}`;

    let iframe=document.querySelector("#gmap_canvas");
    iframe.src=`https://maps.google.com/maps?q=${data.name}%20&t=&z=13&ie=UTF8&iwloc=&output=embed`


    cre.append(one, two, three, four, five, six, seven, eignt);

    attachone.append(cre);
  }
  }
</script>
